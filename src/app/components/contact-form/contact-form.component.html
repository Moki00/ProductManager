<div id="subPage">
  <h1>Subscription Form</h1>

  <form #form="ngForm">
    <div class="form-group">
      <label for="firstname">First Name</label>
      <input
        ngModel
        #fn="ngModel"
        required
        minlength="3"
        maxlength="29"
        id="firstname"
        name="firstname"
        type="text"
        class="form-control"
      />
      <div class="alert alert-danger" *ngIf="!fn.valid && fn.dirty">
        <div *ngIf="fn.errors?.required">First name is required.</div>
        <div *ngIf="fn.errors?.minlength">
          First name must be at least 3 characters.
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="lastname">Last Name</label>
      <input
        ngModel
        #ln="ngModel"
        required
        minlength="3"
        maxlength="29"
        id="lastname"
        name="lastname"
        type="text"
        class="form-control"
      />
      <div class="alert alert-danger" *ngIf="!ln.valid && ln.dirty">
        <div *ngIf="ln.errors?.required">Last name is required.</div>
        <div *ngIf="ln.errors?.minlength">
          Last name must be at least 3 characters.
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="email">Email</label>
      <input
        ngModel
        #ema="ngModel"
        required
        minlength="8"
        maxlength="99"
        id="email"
        name="email"
        type="text"
        class="form-control"
        pattern="^[a-zA-Z0-9_.+-]+@+[a-zA-Z]+\.com$"
      />
      <div class="alert alert-danger" *ngIf="!ema.valid && ema.dirty">
        <div *ngIf="ema.errors?.required">Email is required.</div>
        <div *ngIf="ema.errors?.minlength">
          Email must be at least 8 characters.
        </div>
        <div *ngIf="ema.errors?.pattern">Email should be FDM Email format</div>
      </div>
    </div>

    <div class="form-group">
      <label for="phone">Phone</label>
      <input
        ngModel
        #phon="ngModel"
        minlength="10"
        maxlength="33"
        id="phone"
        name="phone"
        type="text"
        class="form-control"
        pattern="^\s*(?:\+?(\d{1,3}))?[-. (]*(\d{3})[-. )]*(\d{3})[-. ]*(\d{4})(?: *x(\d+))?\s*$"
      />
      <div class="alert alert-danger" *ngIf="!phon.valid && phon.dirty">
        <div *ngIf="phon.errors?.minlength">
          Phone must be at least 10 numbers.
        </div>
        <div *ngIf="phon.errors?.pattern">
          Phone should be in a phone number format like: 1234567890 or
          123-456-7890 or (123)-456-7890 or similar
        </div>
      </div>
    </div>
    <hr />

    <!-- checkbox -->
    <div class="checkbox">
      <label for="checkbox"> Subscribe to the mailing list </label>
      <input
        type="checkbox"
        ngModel
        name="isSubscribed"
        [(ngModel)]="isChecked"
      />
    </div>
    <br />
    <hr />

    <div class="form-group">
      <label for="contactMethod">Best Contact Method:_</label>
      <select ngModel name="contactmethod" id="contactmethod">
        <option value=""></option>
        <option *ngFor="let method of contactMethods" [value]="method.id">
          {{ method.name }}
        </option>
      </select>
    </div>

    <button
      class="btn btn-primary"
      [disabled]="!form.valid"
      (click)="submit(form.value)"
    >
      Submit
    </button>
  </form>
</div>
<hr />
<p>{{ form.value | json }}</p>
