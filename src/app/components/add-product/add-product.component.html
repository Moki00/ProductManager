<div id="add-product">
  <h1 id="add-title">Add a product</h1>
  <form #form="ngForm" id="add-form" action="add-product">
    <div class="form-group">
      <label for="id">Id:</label>
      <input
        required
        minlength="2"
        maxlength="9"
        name="id"
        id="id"
        type="text"
        class="form-control"
        ngModel
        #id="ngModel"
        pattern="^[0-9]*$"
      />
      <div class="alert alert-danger" *ngIf="!id.valid && id.dirty">
        <div *ngIf="id.errors?.required">Id is required.</div>
        <div *ngIf="id.errors?.minlength">Id must be at least 2 numbers.</div>
        <div *ngIf="id.errors?.pattern">Id must be numbers only.</div>
      </div>
    </div>

    <div class="form-group">
      <label for="name"> Name:</label>
      <input
        required
        minlength="3"
        maxlength="19"
        name="name"
        id="name"
        type="text"
        class="form-control"
        ngModel
        #nam="ngModel"
        pattern="^[a-zA-Z0-9-_]*$"
      />
      <div class="alert alert-danger" *ngIf="!nam.valid && nam.dirty">
        <div *ngIf="nam.errors?.required">Name is required.</div>
        <div *ngIf="nam.errors?.minlength">
          Name must be at least 3 characters.
        </div>
        <div *ngIf="nam.errors?.pattern">
          _underscore and -dash are the only allowed special characters.
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="price"> Price:</label>
      <input
        required
        minlength="1"
        maxlength="9"
        name="price"
        id="price"
        type="text"
        class="form-control"
        ngModel
        #price="ngModel"
        pattern="^((\d|[1-9]\d+)(\.\d{1,2})?|\.\d{1,2})$"
      />
      <div class="alert alert-danger" *ngIf="!price.valid && price.dirty">
        <div *ngIf="price.errors?.required">Price is required.</div>
        <div *ngIf="price.errors?.minlength">
          Price must be at least 1 number.
        </div>
        <div *ngIf="price.errors?.pattern">
          Price can have two digits after one decimal. Like: 123.45
        </div>
      </div>
    </div>

    <button
      class="btn btn-primary"
      [disabled]="!form.valid"
      (click)="createProduct(form.value)"
    >
      Add this product
    </button>
  </form>
</div>
